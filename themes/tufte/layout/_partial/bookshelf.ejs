<div class="bookshelf-container">
    <% for (var book in site.data.books) { %>
    <div class="book-cell">
      <% if (site.data.books[book].source) { %>
        <a href="<%= site.data.books[book].source %>">
            <img src="<%- site.data.books[book].cover_link %>" />
        </a>
      <% } else { %>
        <img src="<%- site.data.books[book].cover_link %>" />
      <% } %>
      <% if (site.data.books[book].source) { %>
        <a href="<%= site.data.books[book].source %>">
          <h4><%- book %></h4>
        </a>
      <% } else { %>
        <h4><%- book %></h4>
      <% } %>
      <p class="authorship" >By <%-site.data.books[book].author%></p>
    </div>
    <% } %>
    <%
      // Fill in the remainder to keep 4 on each row.
      var n_books = Object.keys(site.data.books).length;
      if (n_books % 4 != 0) {
        for (var i = 0; i < 4 - (n_books % 4); i++) {
    %>
    <div class="book-cell">
    </div>
    <%
        }
      }
    %>
</div>
